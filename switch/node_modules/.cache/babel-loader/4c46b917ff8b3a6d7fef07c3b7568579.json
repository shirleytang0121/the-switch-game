{"ast":null,"code":"\"use strict\";\n/**\r\n * Copyright (c) 2017, Philip Walton <philip@philipwalton.com>\r\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\r\n * Dispatches an event on the passed element.\r\n * @param {!Element} element The DOM element to dispatch the event on.\r\n * @param {string} eventType The type of event to dispatch.\r\n * @param {Object|string=} eventName A string name of the event constructor\r\n *     to use. Defaults to 'Event' if nothing is passed or 'CustomEvent' if\r\n *     a value is set on `initDict.detail`. If eventName is given an object\r\n *     it is assumed to be initDict and thus reassigned.\r\n * @param {Object=} initDict The initialization attributes for the\r\n *     event. A `detail` property can be used here to pass custom data.\r\n * @return {boolean} The return value of `element.dispatchEvent`, which will\r\n *     be false if any of the event listeners called `preventDefault`.\r\n */\n\nfunction dispatch(element, eventType, evtName, init_dict) {\n  if (evtName === void 0) {\n    evtName = 'Event';\n  }\n\n  if (init_dict === void 0) {\n    init_dict = {};\n  }\n\n  var event;\n  var isCustom;\n  var initDict = init_dict;\n  var eventName = evtName; // eventName is optional\n\n  if (typeof eventName === 'object') {\n    initDict = eventName;\n    eventName = 'Event';\n  }\n\n  initDict['bubbles'] = initDict['bubbles'] || false;\n  initDict['cancelable'] = initDict['cancelable'] || false;\n  initDict['composed'] = initDict['composed'] || false; // If a detail property is passed, this is a custom event.\n\n  if ('detail' in initDict) isCustom = true;\n  eventName = isCustom ? 'CustomEvent' : eventName; // Tries to create the event using constructors, if that doesn't work,\n  // fallback to `document.createEvent()`.\n\n  try {\n    event = new window[eventName](eventType, initDict);\n  } catch (err) {\n    event = document.createEvent(eventName);\n    var initMethod = 'init' + (isCustom ? 'Custom' : '') + 'Event';\n    event[initMethod](eventType, initDict['bubbles'], initDict['cancelable'], initDict['detail']);\n  }\n\n  return element.dispatchEvent(event);\n}\n\nexports.default = dispatch;","map":null,"metadata":{},"sourceType":"script"}