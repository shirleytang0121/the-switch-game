{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\shirl\\\\Documents\\\\GitHub\\\\the-switch-game\\\\switch\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\shirl\\\\Documents\\\\GitHub\\\\the-switch-game\\\\switch\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\shirl\\\\Documents\\\\GitHub\\\\the-switch-game\\\\switch\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\shirl\\\\Documents\\\\GitHub\\\\the-switch-game\\\\switch\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\shirl\\\\Documents\\\\GitHub\\\\the-switch-game\\\\switch\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\shirl\\\\Documents\\\\GitHub\\\\the-switch-game\\\\switch\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\shirl\\\\Documents\\\\GitHub\\\\the-switch-game\\\\switch\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport Phaser from 'phaser';\nimport { Blank } from '../objects/Blank';\nimport { Player } from '../objects/Player';\nimport { Card } from '../objects/Card';\nimport { API, graphqlOperation } from 'aws-amplify';\nimport Amplify, { Auth } from 'aws-amplify';\nimport * as mutations from '../../../graphql/mutations';\nimport * as subscriptions from '../../../graphql/subscriptions';\nimport * as queries from '../../../graphql/queries';\nexport var GameBoard =\n/*#__PURE__*/\nfunction (_Phaser$Scene) {\n  _inherits(GameBoard, _Phaser$Scene);\n\n  function GameBoard() {\n    _classCallCheck(this, GameBoard);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(GameBoard).call(this, {\n      key: 'GameBoard'\n    }));\n  } // checkUserInfo() {\n  //   Auth.currentUserInfo().then((userInfo) => {\n  // \t\tconst { username } = userInfo;\n  // \t})\n  // }\n\n\n  _createClass(GameBoard, [{\n    key: \"create\",\n    value: function create() {\n      this.gameBoard = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36]; //display board\n\n      var boardbg = this.add.image(400, 80, 'boardbg');\n      boardbg.setOrigin(0, 0).setScale(2.8, 2.8);\n      var x_pos1 = 0;\n      var y_pos1 = 0;\n\n      for (var i = 0; i < 6; i++) {\n        for (var j = 0; j < 6; j++) {\n          this.blank = new Blank(this, 405 + x_pos1, 85 + y_pos1, 'blank').data.set('blank', 53);\n          x_pos1 += 65;\n        }\n\n        y_pos1 += 65;\n        x_pos1 = 0;\n      }\n\n      var card_number = 0;\n      var nums = [],\n          ranNums = [];\n\n      for (var k = 0; k < 52; k++) {\n        nums.push(k);\n      }\n\n      var m = nums.length,\n          n = 0;\n\n      while (m--) {\n        n = Math.floor(Math.random() * (m + 1));\n        ranNums.push(nums[n]);\n        nums.splice(n, 1);\n      } //display board\n\n\n      var x_pos = 0;\n      var y_pos = 0;\n\n      for (var i = 0; i < 6; i++) {\n        for (var j = 0; j < 6; j++) {\n          var generatecard = ranNums[card_number];\n          this.card = new Card(this, 405 + x_pos, 85 + y_pos, 'cards', generatecard).setOrigin(0, 0).setInteractive().setDataEnabled();\n          this.card.data.set('card_number', card_number);\n          x_pos += 65;\n          card_number++;\n        }\n\n        y_pos += 65;\n        x_pos = 0;\n      }\n\n      var player1 = new Player(this, 405, 85, 'chess_red', 1).setOrigin(0, 0);\n      var player2 = new Player(this, 730, 85, 'chess_blue', 2).setOrigin(0, 0);\n      var player = [];\n      player.push(player1);\n      player.push(player2);\n      Auth.currentAuthenticatedUser({\n        bypassCache: false // Optional, By default is false. If set to true, this call will send a request to Cognito to get the latest user data\n\n      }).then(user.username).catch(function (err) {\n        return console.log(err);\n      });\n      this.clickedBox(ranNums, player);\n    }\n  }, {\n    key: \"decideMove\",\n    value: function decideMove(x, y, player) {\n      player.setX(x);\n      player.setY(y);\n    }\n  }, {\n    key: \"handlePlayer1Card\",\n    value: function handlePlayer1Card(card, arrangepostion) {\n      card.setX(10 + arrangepostion);\n      card.setY(40);\n      card.setScale(0.1, 0.1);\n    }\n  }, {\n    key: \"handlePlaye2Card\",\n    value: function handlePlaye2Card() {}\n  }, {\n    key: \"handlePlayer3Card\",\n    value: function handlePlayer3Card() {}\n  }, {\n    key: \"updateCardData\",\n    value: function () {\n      var _updateCardData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(card, x, y) {\n        var cardV, xV, yV, thething, newThing;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                cardV = card;\n                console.log(cardV);\n                xV = x;\n                console.log(\"x : \" + xV);\n                yV = y;\n                console.log(\"y : \" + yV);\n                thething = {\n                  whichCard: cardV,\n                  x: xV,\n                  y: yV\n                };\n                _context.next = 9;\n                return API.graphql(graphqlOperation(mutations.createTest1, {\n                  input: thething\n                }));\n\n              case 9:\n                newThing = _context.sent;\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function updateCardData(_x, _x2, _x3) {\n        return _updateCardData.apply(this, arguments);\n      }\n\n      return updateCardData;\n    }()\n  }, {\n    key: \"updateblanck\",\n    value: function () {\n      var _updateblanck = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(card, x, y) {\n        var cardV, xV, yV, thething, newThing;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                cardV = card;\n                console.log(cardV);\n                xV = x;\n                console.log(\"x : \" + xV);\n                yV = y;\n                console.log(\"y : \" + yV);\n                thething = {\n                  whichCard: cardV,\n                  x: xV,\n                  y: yV\n                };\n                _context2.next = 9;\n                return API.graphql(graphqlOperation(mutations.createTest1, {\n                  input: thething\n                }));\n\n              case 9:\n                newThing = _context2.sent;\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function updateblanck(_x4, _x5, _x6) {\n        return _updateblanck.apply(this, arguments);\n      }\n\n      return updateblanck;\n    }()\n  }, {\n    key: \"clickedBox\",\n    value: function clickedBox(ranNums, player) {\n      var _this = this;\n\n      var arrangepostion = 0;\n      var seat = 0;\n      this.input.on('gameobjectdown', function (pointer, gameObject) {\n        for (var i = 0; i < 36; i++) {\n          if (_this.gameBoard[i] == i) {\n            if (gameObject.x == player[seat].x || gameObject.y == player[seat].y) {\n              _this.decideMove(gameObject.x, gameObject.y, player[seat]);\n\n              if (gameObject.data.get('card_number') == i) {\n                _this.handlePlayer1Card(gameObject, arrangepostion);\n\n                arrangepostion += 20;\n\n                _this.updateCardData(ranNums[i], player[seat].x, player[seat].y);\n              } else if (gameObject.data.get('blank')) {\n                _this.updateblanck(-1, player[seat].x, player[seat].y);\n\n                break;\n              } // if(seat==0){\n              // \tseat=1\n              // }else{\n              // \tseat=0\n              // }\n\n            }\n          }\n        }\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update(time, delta) {}\n  }]);\n\n  return GameBoard;\n}(Phaser.Scene);","map":{"version":3,"sources":["C:\\Users\\shirl\\Documents\\GitHub\\the-switch-game\\switch\\src\\Pages\\phaser\\scenes\\GameBoard.js"],"names":["Phaser","Blank","Player","Card","API","graphqlOperation","Amplify","Auth","mutations","subscriptions","queries","GameBoard","key","gameBoard","boardbg","add","image","setOrigin","setScale","x_pos1","y_pos1","i","j","blank","data","set","card_number","nums","ranNums","k","push","m","length","n","Math","floor","random","splice","x_pos","y_pos","generatecard","card","setInteractive","setDataEnabled","player1","player2","player","currentAuthenticatedUser","bypassCache","then","user","username","catch","err","console","log","clickedBox","x","y","setX","setY","arrangepostion","cardV","xV","yV","thething","whichCard","graphql","createTest1","input","newThing","seat","on","pointer","gameObject","decideMove","get","handlePlayer1Card","updateCardData","updateblanck","time","delta","Scene"],"mappings":"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","sourcesContent":["import Phaser from 'phaser';\r\nimport {Blank} from '../objects/Blank';\r\nimport {Player} from '../objects/Player';\r\nimport {Card} from '../objects/Card';\r\nimport { API, graphqlOperation } from 'aws-amplify';\r\nimport Amplify, { Auth } from 'aws-amplify';\r\nimport * as mutations from '../../../graphql/mutations';\r\nimport * as subscriptions from '../../../graphql/subscriptions'\r\nimport * as queries from '../../../graphql/queries'\r\n\r\n\r\nexport class GameBoard extends Phaser.Scene {\r\n\tconstructor() {\r\n\t\tsuper({\r\n\t\t\tkey: 'GameBoard'\r\n\t\t});\r\n\t}\r\n\t// checkUserInfo() {\r\n  //   Auth.currentUserInfo().then((userInfo) => {\r\n\t// \t\tconst { username } = userInfo;\r\n\t\t\t\r\n\t// \t})\r\n  // }\r\n\r\n\tcreate() {\r\n\t\tthis.gameBoard = [0,1,2,3,4,5,6,7,8,9,10,\r\n\t\t\t11,12,13,14,15,16,17,18,19,20,21,22,\r\n\t\t\t23,24,25,26,27,28,29,30,31,32,33,34,35,36];\r\n\t\t \r\n        //display board\r\n\t\tlet boardbg = this.add.image(400, 80, 'boardbg');\r\n\t\tboardbg.setOrigin(0, 0).setScale(2.8,2.8);\r\n\t\tlet x_pos1=0;\r\n\t\tlet y_pos1=0;\r\n\t\tfor(var i=0;i<6;i++){\r\n\t\t\tfor(var j=0 ;j<6;j++){\r\n\t\t\t   this.blank=new Blank(this,405+x_pos1,85+y_pos1,'blank').data.set('blank', 53);\r\n\t\t\t\tx_pos1+=65;\r\n\t\t\t }\r\n\t\t\t   y_pos1+=65;\r\n\t\t\t   x_pos1=0;\r\n\t\t   }\r\n\t\t   let card_number=0;\r\n\t\t   let nums=[],\r\n\t\t\t   ranNums = [];\r\n\t\t  for(var k=0;k<52;k++){\r\n\t\t   nums.push(k);\r\n\t\t\t}\r\n\t\t   let m = nums.length,\r\n\t\t\t   n = 0;\r\n\t   while (m--) {\r\n\t\t   n = Math.floor(Math.random() * (m+1));\r\n\t\t   ranNums.push(nums[n]);\r\n\t\t   nums.splice(n,1);\r\n\t   }\r\n\t   //display board\r\n\t\t\tlet x_pos=0;\r\n\t\t\tlet y_pos=0;  \r\n\t\t   for(var i=0;i<6;i++){\r\n\t\t\tfor(var j=0 ;j<6;j++){\r\n\t\t\t   var generatecard=ranNums[card_number]\r\n\t\t\t   this.card=new Card(this,405+x_pos,85+y_pos,'cards',generatecard).setOrigin(0, 0).setInteractive().setDataEnabled()\r\n\t\t\t   this.card.data.set('card_number', card_number);\r\n\t\t\t\tx_pos+=65;\r\n\t\t\t\tcard_number++;\r\n\t\t\t }\r\n\t\t\t   y_pos+=65;\r\n\t\t\t   x_pos=0;\r\n\t\t   }\r\n\t\t\t let player1=new Player(this,405,85,'chess_red',1).setOrigin(0,0)\r\n\t\t\t let player2=new Player(this,730,85,'chess_blue',2).setOrigin(0,0)\r\n\r\n\t\t\t let player=[]\r\n\t\t\t player.push(player1)\r\n\t\t\t player.push(player2)\r\n\r\n\t\t\t Auth.currentAuthenticatedUser({\r\n\t\t\t\tbypassCache: false  // Optional, By default is false. If set to true, this call will send a request to Cognito to get the latest user data\r\n\t\t     }).then(user.username).catch(err => console.log(err));\r\n\t\t\t\r\n\t\t\t this.clickedBox(ranNums,player);\r\n\t\t   \r\n\t}\r\n\r\n\tdecideMove(x,y,player){\r\n\t\tplayer.setX(x)\r\n\t\tplayer.setY(y)\r\n\t}\r\n\r\n\thandlePlayer1Card(card,arrangepostion){\r\n\t\tcard.setX(10+arrangepostion);\r\n\t\tcard.setY(40);\r\n\t\tcard.setScale(0.1,0.1)\r\n\t}\r\n\r\n\thandlePlaye2Card(){\r\n\t\t\r\n\t}\r\n\r\n\thandlePlayer3Card(){\r\n\t\t\r\n\t}\r\n\tasync updateCardData(card,x,y){\r\n\t\tconst cardV = card;\r\n\t\tconsole.log(cardV)\r\n\t\tconst xV =x;\r\n\t\tconsole.log(\"x : \"+xV)\r\n\t\tconst yV = y;\r\n\t\tconsole.log(\"y : \"+yV)\r\n\t\tconst thething = {\r\n\t\t\t\t\twhichCard : cardV,\r\n\t\t\t\t\t\t\tx : xV,\r\n\t\t\t\t\t\t\ty : yV\r\n\t\t\t\t\t\t};\r\n\t const newThing = await API.graphql(graphqlOperation(mutations.createTest1, {input: thething}));\r\n\t}\r\n\r\n\tasync updateblanck(card,x,y){\r\n\t\tconst cardV = card;\r\n\t\tconsole.log(cardV)\r\n\t\tconst xV =x;\r\n\t\tconsole.log(\"x : \"+xV)\r\n\t\tconst yV = y;\r\n\t\tconsole.log(\"y : \"+yV)\r\n\t\tconst thething = {\r\n\t\t\t\t\twhichCard : cardV,\r\n\t\t\t\t\t\t\tx : xV,\r\n\t\t\t\t\t\t\ty : yV\r\n\t\t\t\t\t\t};\r\n\t const newThing = await API.graphql(graphqlOperation(mutations.createTest1, {input: thething}));\r\n\t}\r\n\r\n\t\r\n\tclickedBox(ranNums,player){\r\n\t\tvar arrangepostion=0;\r\n\t\tvar seat=0\r\n\t\tthis.input.on('gameobjectdown', (pointer, gameObject) => {\r\n\t\t\tfor(var i=0;i<36;i++){\r\n\t\t\t\tif(this.gameBoard[i] == i ){\r\n\t\t\t\t\tif(gameObject.x==player[seat].x||gameObject.y==player[seat].y){\r\n\t\t\t\t\t\tthis.decideMove(gameObject.x,gameObject.y,player[seat])\r\n\t\t\t\t\t\tif(gameObject.data.get('card_number') == i){\r\n\t\t\t\t\t\t\tthis.handlePlayer1Card(gameObject,arrangepostion)\r\n\t\t\t\t\t\t\tarrangepostion += 20\r\n\t\t\t\t\t\t\tthis.updateCardData(ranNums[i],player[seat].x,player[seat].y)\r\n\t\t\t\t\t\t}else if(gameObject.data.get('blank')){\r\n\t\t\t\t\t\t\tthis.updateblanck(-1,player[seat].x,player[seat].y)\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// if(seat==0){\r\n\t\t\t\t\t\t// \tseat=1\r\n\t\t\t\t\t\t// }else{\r\n\t\t\t\t\t\t// \tseat=0\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t}\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\r\n\r\n\t\t\r\n\t\r\n\t}\r\n\r\n\t\t\t\r\n\t});\r\n\r\n\t\r\n\t\r\n}\r\n\t\r\n\tupdate(time, delta) {\r\n\t\t\r\n\t\t\r\n\t}\r\n}"]},"metadata":{},"sourceType":"module"}