{"ast":null,"code":"/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2019 Photon Storm Ltd.\r\n * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}\r\n */\n\n/**\r\n * [description]\r\n *\r\n * @function Phaser.Physics.Impact.SeparateX\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.Physics.Impact.World} world - [description]\r\n * @param {Phaser.Physics.Impact.Body} left - [description]\r\n * @param {Phaser.Physics.Impact.Body} right - [description]\r\n * @param {Phaser.Physics.Impact.Body} [weak] - [description]\r\n */\nvar SeparateX = function SeparateX(world, left, right, weak) {\n  var nudge = left.pos.x + left.size.x - right.pos.x; // We have a weak entity, so just move this one\n\n  if (weak) {\n    var strong = left === weak ? right : left;\n    weak.vel.x = -weak.vel.x * weak.bounciness + strong.vel.x;\n    var resWeak = world.collisionMap.trace(weak.pos.x, weak.pos.y, weak === left ? -nudge : nudge, 0, weak.size.x, weak.size.y);\n    weak.pos.x = resWeak.pos.x;\n  } else {\n    var v2 = (left.vel.x - right.vel.x) / 2;\n    left.vel.x = -v2;\n    right.vel.x = v2;\n    var resLeft = world.collisionMap.trace(left.pos.x, left.pos.y, -nudge / 2, 0, left.size.x, left.size.y);\n    left.pos.x = Math.floor(resLeft.pos.x);\n    var resRight = world.collisionMap.trace(right.pos.x, right.pos.y, nudge / 2, 0, right.size.x, right.size.y);\n    right.pos.x = Math.ceil(resRight.pos.x);\n  }\n};\n\nmodule.exports = SeparateX;","map":null,"metadata":{},"sourceType":"script"}